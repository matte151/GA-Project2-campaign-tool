<%- include('../partials/headers/headerlogic') %> 

    <div class="abilityFormGrid">
        <form class="newAbilitiesForm" action="/abilities" method="POST">
            <label>Name:</label><input type="text" name="name">
            <label>Owner:</label><input type="text" disabled="true" name="owner" value="<%= user._id %>">
            <label>Primary Orb:</label><select type="Schema.type.ObjectId" name="primaryOrb">
                <option value="">Select Primary Orb</option>
                    <% if (orbs) {
                        orbs.forEach(e => {%>
                            <option value="<%= e.id %>"><%= e.name %></option>
                        <% }); %>
                     <% } %>
                </select>
            <label>primaryStat:</label><input type="number" name="primaryStat">
            <label>secondaryOrbs: Skip me for now, this will have to push into the array.</label><input type="number" name="secondaryOrbs">
            <label>secondaryStat: Skip me for now, this will have to push into the array.</label><input type="number" name="secondaryStat">
            <label>EffectivePowerLevel:</label><input type="number" name="effectivePowerLevel">
            <label>AbilityLevel:</label><input type="number" name="AbilityLevel">
            <label>Cost:</label><input type="number" name="cost">
            <label>Type:</label><input type="text" name="name">
           <p> Make this only show up if they have BP, otherwise, just default it to PP and call it a day.</p>
            <label>Range:</label><input type="text" name="range">
            <label>Area Of Effect:</label><input type="text" name="areaOfEffect">
            <label>Notes:</label><input type="text" name="notes">
            <% if (user && user.userLevel==="Super" || user && user.userLevel==="DM" ) { %>
            <label>damageScalingOrb:</label><input type="number" name="damageScalingOrb">
            <label>damageScalingLevel:</label><input type="number" name="damageScalingLevel">
            <label>damageScalingMin:</label><input type="number" name="damageScalingMin">
            <label>damageScalingMax:</label><input type="number" name="damageScalingMax">
            <label>damageFlatBonus:</label><input type="number" name="damageFlatBonus">
            <label>penetrationArmor:</label><input type="number" name="penetrationArmor">
            <label>penetrationOS:</label><input type="number" name="penetrationOS">
            <label>saveDCBase:</label><input type="number" name="saveDCBase">
            <label>saveDCScalingOrb:</label><input type="number" name="saveDCScalingOrb">
            <label>saveDCSclaingLevel:</label><input type="number" name="saveDCSclaingLevel">
            <label>critMultiplier:</label><input type="number" name="critMultiplier">
            <% } %>
            <input type="submit" value="Add / Request Ability">

        </form>
    </div>


<%- include('../partials/headers/footer') %>